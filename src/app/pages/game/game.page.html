<ion-header>
  <ion-toolbar>
    <ion-buttons slot="end">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>GL HF!</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="gameContainer">
    <div *ngIf="gameOn === true" class="counterContainer">
      <div class="fizzbuzzCounter ion-text-center"
           *ngIf="(fizzBuzz$ | async) as fizzBuzz">
        <h1 *ngIf="isNumber(fizzBuzz) || (result$ | async) == true ; else NA">
          {{fizzBuzz}}
        </h1>
        <ng-template #NA>
          <h1>
            ??
          </h1>
        </ng-template>
      </div>
    </div>

    <ion-grid *ngIf="gameOn === true">
      <ion-row>
        <ion-col size-md="6" offset-md="3">
          <ion-item>
            <p>
              <ion-text color="success">
                Points: <span>{{points$ | async}}</span>
              </ion-text>
            </p>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col size-md="6" offset-md="3">
          <ion-item>
            <p>
              <ion-text color="danger">
                Fails: <span>{{fails$ | async}} </span> / 3
              </ion-text>
            </p>
          </ion-item>
        </ion-col>
      </ion-row>
    </ion-grid>

    <div class="buttons ion-text-center ion-padding">
      <ion-button #fizz [hidden]="gameOn === false" color="secondary">
        FIZZ
      </ion-button>
      <ion-button #buzz [hidden]="gameOn === false" color="primary">
        BUZZ
      </ion-button>
      <ion-button #fizzBuzz [hidden]="gameOn === false" color="tertiary">
        FIZZBUZZ!!!
      </ion-button>
    </div>

    <div class="rightOrWrong ion-text-center" *ngIf="gameOn === true">
      <h1 *ngIf="(result$ | async) == true" id="good">
        <ion-text color="success">
          GOOD!
        </ion-text>
      </h1>
      <h1 *ngIf="(result$ | async) == false" id="wrong">
        <ion-text color="danger">
          WRONG!
        </ion-text>
      </h1>
    </div>

    <div *ngIf="gameOn === false" class="startButton-container ion-padding ion-text-center">
      <ion-button (click)="startGame()">START</ion-button>
    </div>
  </div>

</ion-content>
